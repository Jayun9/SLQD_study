# 테이블 설계

### 테이블 설계 규칙

집합을 나누는 방법에 따라 한 개 혹은 여러 개의 테이블이 될 수 있음

#### 데이터 베이스 vs 자바

| 데이터베이스 | 자바텡   |
| ------------ | -------- |
| 테이블       | 클래스   |
| 열           | 속성     |
| 행           | 인스턴스 |
| -            | 매소드   |

#### 기본키의 중요성

1. 특정 집합에 특정 행을 유일하게 식별하게 해주는 속성의 집합
2. 기본키는 중복되면 안된다. 
3. 반드시 기본키를 설정해야 함. 

4. 업무상의 이유로 기본키가 없는 경우도 있긴 함. 

<br>



### 정규형

1. 테이블을 정의하는 기본 형태
2. 제대로 된 형태를 뜻함.
3. 정규형을 제대로 지키지 않는 행위를 정규화 위반이라고 함.

#### 제 1 정규형(1NF) 위반

테이블의 셀에 여러 개의 값을 포함하지 않는다. ( 한셀에는 하나의 값만 들어가야 함. )

##### 테이블 = 함수

기본키의 값을 입력하면 특정 출력 값이 나오는 구조

> 함수 종속성이 있다고 함. 

#### 제 2 정규형(2NF) 위반

부분함수 종속성을 허용하지 않음. 기본키를 구성하는 열의 일부에만 함수 종속이 존재하는 것

![image-20210423082947199](.\테이블 설계의 기초image\image-20210423082947199.png)

- 주문 일자는 복합키인 고객아이디 + 주분번호로 결정된다
- 하지만 복합키로 고객명과 고객등급이 정해지는 것은 아니다. 
- 고객명과 고객등급은 고객 아이디를 통해서 정해지는데 이런 경우 제 2 정규형 위반이라고 한다. 

##### 해소 하는 법

테이블을 나눔.

![image-20210423083226596](.\테이블 설계의 기초image\image-20210423083226596.png)

![image-20210423083251964](.\테이블 설계의 기초image\image-20210423083251964.png)

#### 제3정규형(3NF) 위반

기본키를 제외한 일반 컬럼끼리 함수 종속이 발생 (이행적 함수 종속이 발생했다.)

<br>



### ER 다이어 그램(Entity-Relationship Diagram)

 개체 - 관계 다이어 그램 

#### barker 표기법

ER 다이어 그램을 표기하는 표기법

#### 릴레이션십

엔티티 간의 관련성을 표현

다대다 관계 파악, 선택 필수 관계 파악

